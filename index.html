<script>
async function generateVideo(){

var prompt = document.getElementById("prompt").value;

if(prompt === ""){
alert("Please enter a prompt first");
return;
}

try{

const response = await fetch("/api/generate", {
method: "POST",
headers: {
"Content-Type": "application/json"
},
body: JSON.stringify({ prompt: prompt })
});

const data = await response.json();

if(data.url){
window.open(data.url, "_blank");
}
else{
alert(data.error || "Something went wrong");
}

}catch(error){
alert("Server error");
}

}
</script>
